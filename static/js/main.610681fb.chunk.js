(this["webpackJsonpbar-chart-demo"]=this["webpackJsonpbar-chart-demo"]||[]).push([[0],{144:function(t,n,e){},149:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),c=e(38),o=e.n(c),i=(e(144),e(12)),u=e(39);function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(Math.random()*(t-n)+n)}var l,f=[{type:"cat",color:"pink"},{type:"dog",color:"magenta"},{type:"fish",color:"purple"},{type:"cow",color:"green"},{type:"mouse",color:"lightblue"}],d=f.map((function(t){return t.type})),p=f.map((function(t){return t.color})),b=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=[],e=s(25,10),r=0;r<e;r++){var a=d.reduce((function(n,e){return n[e]=s(t),n}),{});n.push(Object(u.a)({time:"2021-05-05 10:00:0".concat(r)},a))}return n},m=function(){for(var t=[],n=s(25,10),e=0;e<n;e++)t.push(s(100,1));return t},x=function(){return d.map((function(t){for(var n=[],e=s(100,1),r=0;r<1e3;r++){var a=e+s(1,-1);n.push({x:r,y:a}),e=a}return[t,n]}))},j=function(){for(var t=[],n=s(50,10),e=0;e<n;e++)t.push({x:s(100,5),y:s(100,10),r:s(20,10),type:d[e%d.length]});return t},h=function(){return d.reduce((function(t,n){return t[n]=s(20,3),t}),{})},y=e(3),g=e(14),v=e(2),O=g.a.div(l||(l=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 10px;\n  background: #f3f3f3;\n"]))),k=function(t){var n=t.componentProp,e=t.getData,a=Object(r.useState)(e()),c=Object(y.a)(a,2),o=c[0],i=c[1],u=n;return Object(v.jsxs)(O,{children:[Object(v.jsx)("div",{children:Object(v.jsx)(u,{data:o})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){var t=e();i(t)},children:"Update Data"})})]})},w=e(1),A=750,E=400,C=20,P=30,R=30,M=50,D=A-M-P,I=E-C-R;var _=function(t){var n=t.data,e=Object(r.useRef)(),a=n.map((function(t){return t.time})),c=Object.keys(n[0]).slice(1),o=w.n().keys(c)(n),i=w.l().domain(c).range(p),u=w.j().range([0,D]).padding([.2]),s=w.k().rangeRound([I,0]),l=Object(r.useCallback)((function(t){t.selectAll("rect").data((function(t){return t})).join((function(t){return t.append("rect").attr("class","bar").attr("height",(function(t){return s(t[0])-s(t[1])})).attr("width",u.bandwidth()).attr("x",(function(t){return u(t.data.time)})).attr("y",(function(t){return s(t[1])})).attr("stroke","grey").style("opacity",0).call((function(t){return t.transition().duration(500).style("opacity",1)})).on("mouseover",d).on("mouseleave",b)}),(function(t){t.transition().attr("height",(function(t){return s(t[0])-s(t[1])})).attr("width",u.bandwidth()).attr("x",(function(t){return u(t.data.time)})).attr("y",(function(t){return s(t[1])}))}))}),[u,s]),f=Object(r.useCallback)((function(){var t=w.m(e.current);u.domain(a),t.select(".x-axis").call(w.c(u)).selectAll("text").text((function(t){return t.slice(11)})).attr("transform","translate(-13,26) rotate(-90)"),s.domain([0,1.2*w.h(n,(function(t){return w.o(Object.values(t))}))]),t.select(".y-axis").transition().call(w.d(s)),t.selectAll("g.stacks").selectAll("g.stack").data(o).join((function(t){var n=t.append("g").attr("class",(function(t){return"stack ".concat(t.key)}));return n.append("g").attr("class","bars").attr("fill",(function(t){return i(t.key)})),l(n.select(".bars")),n}),(function(t){l(t.select(".bars"))}))}),[n,i,a,o,l,u,s]),d=function(){var t=w.m(this.parentNode).datum().key;w.m(e.current).selectAll(".bar").style("opacity",.2),w.m(e.current).selectAll(".".concat(t," rect")).style("opacity",1)},b=function(){w.m(e.current).selectAll(".bar").style("opacity",.8)};return Object(r.useEffect)((function(){var t=w.m(e.current);t.attr("width",A).attr("height",E).append("g").attr("class","stacks").attr("transform","translate(".concat(M,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(M,", ").concat(I,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(M,")"))}),[]),Object(r.useEffect)((function(){f()}),[n,f]),Object(v.jsx)("svg",{ref:e})},J=A-M-P,N=E-C-R;var S=function(t){var n=t.data,e=Object(r.useRef)(),a=w.j().range([0,J]).padding(.3),c=w.k().range([N,0]),o=Object(r.useCallback)((function(t){return"translate(".concat(a.bandwidth()/2,t>10?", 15)":", -2)")}),[a]),i=Object(r.useCallback)((function(){var t=w.m(e.current);a.domain(Object.keys(n)),t.select(".x-axis").call(w.c(a)).selectAll("text").text((function(t){return+t+1})),c.domain([0,1.1*w.h(n)]),t.select(".y-axis").transition().call(w.d(c)),t.selectAll(".bars").selectAll(".bar").data(n).join((function(t){var n=t.append("g").attr("class","bar");return n.append("rect").attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("height",(function(t){return N-c(t)})).attr("width",a.bandwidth()).attr("stroke-width",1).attr("stroke","black").attr("fill",p[0]),n.append("text").text((function(t){return t})).join("text").attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("transform",o).attr("text-anchor","middle"),n}),(function(t){t.select("rect").transition().attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("height",(function(t){return N-c(t)})).attr("width",a.bandwidth()),t.select("text").transition().text((function(t){return t})).attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("transform",o)}),(function(t){t.select("text").remove(),t.select("rect").transition().style("opacity",0),t.transition().remove()}))}),[n,o,a,c]);return Object(r.useEffect)((function(){var t=w.m(e.current);t.attr("width",A).attr("height",E).append("g").attr("class","bars").attr("transform","translate(".concat(M,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(M,", ").concat(N,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(M,")"))}),[]),Object(r.useEffect)((function(){i()}),[n,i]),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(){n.sort((function(t,n){return w.b(t,n)})),i()},children:"asc"}),Object(v.jsx)("button",{onClick:function(){n.sort((function(t,n){return w.e(t,n)})),i()},children:"desc"})]}),Object(v.jsx)("svg",{ref:e})]})},z=A-M-P,B=E-C-R;var U=function(t){var n=t.data,e=Object(r.useRef)(),a=w.k().range([0,z]),c=w.k().rangeRound([B,0]),o=w.l().domain(n.map((function(t){return t.type}))).range(p),i=Object(r.useCallback)((function(){var t=w.m(e.current);a.domain([0,w.h(n,(function(t){return t.x}))]),t.select(".x-axis").call(w.c(a)),c.domain([0,1.2*w.h(n,(function(t){return t.y}))]),t.select(".y-axis").transition().call(w.d(c)),t.selectAll(".scatter").selectAll("circle").data(n).join((function(t){return t.append("circle").attr("fill","red").attr("stroke","white").attr("cx",(function(t){return a(t.x)})).attr("cy",(function(t){return c(t.y)})).attr("r",(function(t){return t.r})).call((function(t){return t.transition().attr("fill",(function(t){return o(t.type)}))})).on("mouseover",(function(t){w.m(t.target).transition().style("opacity",.8).attr("r",25)})).on("mouseleave",(function(t){var n=t.target.__data__;w.m(t.target).transition().attr("fill",o(n.type)).attr("r",n.r)})),t}),(function(t){t.transition().delay((function(t,n){return 50*n})).duration(500).attr("fill","none").attr("stroke","blue").attr("cx",(function(t){return a(t.x)})).attr("cy",(function(t){return c(t.y)})).call((function(t){return t.transition().duration(500).attr("stroke","white").attr("fill",(function(t){return o(t.type)}))}))}),(function(t){return t.transition().duration(1e3).attr("fill","yellow").attr("stroke-width",4).attr("stroke","black").call((function(t){return t.style("opacity",0).remove()}))}))}),[n,o,a,c]);return Object(r.useEffect)((function(){var t=w.m(e.current);t.attr("width",A).attr("height",E).append("g").attr("class","scatter").attr("transform","translate(".concat(M,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(M,", ").concat(B,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(M,")"))}),[]),Object(r.useEffect)((function(){i()}),[n,i]),Object(v.jsx)("svg",{ref:e})},q=A-M-P,F=E-C-R;var G=function(t){var n=t.data,e=Object(r.useRef)(),a=w.k().range([0,q]),c=w.k().rangeRound([F,0]),o=w.l().domain(d).range(p),i=Object(r.useCallback)((function(){var t=w.m(e.current);a.domain([0,w.h(n,(function(t){return w.h(t[1],(function(t){return t.x}))}))]),t.select(".x-axis").call(w.c(a)),c.domain(w.f(n.map((function(t){var n=Object(y.a)(t,2);n[0];return n[1]})).flat(),(function(t){return t.y}))),t.select(".y-axis").transition().call(w.d(c)),t.selectAll(".lines").selectAll(".line").data(n,(function(t){return t[0]})).join((function(t){return t.append("g").attr("class",(function(t){return"line ".concat(t[0])})).append("path").attr("fill","none").attr("stroke-width",2).attr("stroke",(function(t){return o(t[0])})).attr("d",(function(t){return w.g().x((function(t){return a(t.x)})).y((function(t){return c(t.y)}))(t[1])})).on("mouseover",u).on("mouseleave",s)}),(function(t){t.select("path").transition().attr("fill","none").attr("stroke-width",2).attr("stroke",(function(t){return o(t[0])})).attr("d",(function(t){return w.g().x((function(t){return a(t.x)})).y((function(t){return c(t.y)}))(t[1])}))}))}),[n,a,c,o]),u=function(){var t=w.m(this.parentNode).datum()[0];w.m(e.current).selectAll(".line").style("opacity",.2),w.m(e.current).selectAll(".".concat(t)).style("opacity",1)},s=function(){w.m(e.current).selectAll(".line").style("opacity",1)};return Object(r.useEffect)((function(){var t=w.m(e.current);t.attr("width",A).attr("height",E).append("g").attr("class","lines").attr("transform","translate(".concat(M,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(M,", ").concat(F,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(M,")"))}),[]),Object(r.useEffect)((function(){i()}),[n,i]),Object(v.jsx)("svg",{ref:e})},H=A-M-P,K=E-C-R,L=Math.min(H,K)/2,Q=function(t){return t.endAngle<Math.PI?180*(t.startAngle/2+t.endAngle/2)/Math.PI:180*(t.startAngle/2+t.endAngle/2+Math.PI)/Math.PI};var T,V=function(t){var n=t.data,e=Object(r.useRef)(),a=w.l().domain(Object.keys(n)).range(p),c=w.i().value((function(t){return t.value})).sort((function(t,n){return w.b(t.key,n.key)})),o=Object(r.useCallback)((function(){var t=w.m(e.current),r=c(Object.entries(n).map((function(t){var n=Object(y.a)(t,2);return{key:n[0],value:n[1]}}))),o=w.a().innerRadius(0).outerRadius(L);t.selectAll(".pie").selectAll(".piece").data(r,(function(t){return t.data.key})).join((function(t){var n=t.append("g").attr("class","piece");return n.append("path").attr("d",o).attr("fill",(function(t){return a(t.data.key)})).attr("stroke","black").style("stroke-width","2px").style("opacity",.7),n.append("text").text((function(t){return t.data.key})).attr("transform",(function(t){return"translate(".concat(o.centroid(t),") rotate(-90) rotate(").concat(Q(t),")")})).style("text-anchor","middle").style("font-size",17),n}),(function(t){t.select("path").transition().attr("d",o),t.select("text").transition().text((function(t){return t.data.key})).attr("transform",(function(t){return"translate(".concat(o.centroid(t),") rotate(-90) rotate(").concat(Q(t),")")}))}))}),[n,c,a]);return Object(r.useEffect)((function(){w.m(e.current).attr("width",A).attr("height",E).append("g").attr("class","pie").attr("transform","translate(".concat(375,", ").concat(200,")"))}),[]),Object(r.useEffect)((function(){o()}),[n,o]),Object(v.jsx)("svg",{ref:e})},W=g.a.div(T||(T=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 10px;\n  flex-wrap: wrap;\n  margin: 10px;\n"]))),X=function(){return Object(v.jsxs)(W,{children:[Object(v.jsx)(k,{componentProp:V,getData:h}),Object(v.jsx)(k,{componentProp:G,getData:x}),Object(v.jsx)(k,{componentProp:U,getData:j}),Object(v.jsx)(k,{componentProp:_,getData:b}),Object(v.jsx)(k,{componentProp:S,getData:m})]})};o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(X,{})}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.610681fb.chunk.js.map