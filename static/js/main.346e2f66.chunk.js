(this["webpackJsonpbar-chart-demo"]=this["webpackJsonpbar-chart-demo"]||[]).push([[0],{138:function(t,n,r){},141:function(t,n,r){"use strict";r.r(n);var e=r(2),a=r.n(e),c=r(33),i=r.n(c),o=(r(138),r(0)),s=r(34);function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(Math.random()*(t-n)+n)}var l=["cat","dog","fish","cow","mouse"],f=["pink","magenta","purple","green","lightblue"],d=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=[],r=u(25,10),e=0;e<r;e++){var a=l.reduce((function(n,r){return n[r]=u(t),n}),{});n.push(Object(s.a)({time:"2021-05-05 10:00:0".concat(e)},a))}return n},p=function(){for(var t=[],n=u(25,10),r=0;r<n;r++)t.push(u(100,1));return t},b=function(){return l.map((function(t){for(var n=[],r=u(100,1),e=0;e<5e3;e++){var a=r+u(1,-1);n.push({x:e,y:a}),r=a}return[t,n]}))},x=function(){for(var t=[],n=u(50,10),r=0;r<n;r++)t.push({x:u(100,5),y:u(100,10),r:u(20,10),type:l[r%l.length]});return t},j=r(1),g=50,h=1e3-g-30,y=400-20-50;var m=function(t){var n=t.data,r=Object(e.useRef)(),a=n.map((function(t){return t.time})),c=Object.keys(n[0]).slice(1),i=o.l().keys(c)(n),s=o.j().domain(c).range(f),u=o.h().range([0,h]).padding([.2]),l=o.i().rangeRound([y,0]),d=Object(e.useCallback)((function(){var t=o.k(r.current);u.domain(a),t.select(".x-axis").call(o.b(u)).selectAll("text").text((function(t){return t.slice(11)})).attr("transform","translate(-13,26) rotate(-90)"),l.domain([0,1.2*o.g(n,(function(t){return o.m(Object.values(t))}))]),t.select(".y-axis").transition().call(o.c(l)),t.selectAll("g.stacks").selectAll("g.stack").data(i).join((function(t){var n=t.append("g").attr("class",(function(t){return"stack ".concat(t.key)}));return n.append("g").attr("class","bars").attr("fill",(function(t){return s(t.key)})),p(n.select(".bars")),n}),(function(t){p(t.select(".bars"))}))}),[n]),p=function(t){t.selectAll("rect").data((function(t){return t})).join((function(t){return t.append("rect").attr("class","bar").attr("height",(function(t){return l(t[0])-l(t[1])})).attr("width",u.bandwidth()).attr("x",(function(t){return u(t.data.time)})).attr("y",(function(t){return l(t[1])})).attr("stroke","grey").style("opacity",0).call((function(t){return t.transition().duration(500).style("opacity",1)})).on("mouseover",b).on("mouseleave",x)}),(function(t){t.transition().attr("height",(function(t){return l(t[0])-l(t[1])})).attr("width",u.bandwidth()).attr("x",(function(t){return u(t.data.time)})).attr("y",(function(t){return l(t[1])}))}))},b=function(){var t=o.k(this.parentNode).datum().key;o.k(r.current).selectAll(".bar").style("opacity",.2),o.k(r.current).selectAll(".".concat(t," rect")).style("opacity",1)},x=function(){o.k(r.current).selectAll(".bar").style("opacity",.8)};return Object(e.useEffect)((function(){var t=o.k(r.current);t.attr("width",1e3).attr("height",400).append("g").attr("class","stacks").attr("transform","translate(".concat(g,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(g,", ").concat(y,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(g,")"))}),[]),Object(e.useEffect)((function(){d()}),[n,d,r.current]),Object(j.jsx)("div",{style:{padding:"10px 0"},children:Object(j.jsx)("svg",{ref:r})})},v=50,k=1e3-v-30,O=300-20-50;var w=function(t){var n=t.data,r=Object(e.useRef)(),a=o.h().range([0,k]).padding(.3),c=o.i().range([O,0]),i=function(t){return"translate(".concat(a.bandwidth()/2,t>10?", 15)":", -2)")},s=Object(e.useCallback)((function(){var t=o.k(r.current);a.domain(Object.keys(n)),t.select(".x-axis").call(o.b(a)).selectAll("text").text((function(t){return+t+1})),c.domain([0,1.1*o.g(n)]),t.select(".y-axis").transition().call(o.c(c)),t.selectAll(".bars").selectAll(".bar").data(n).join((function(t){var n=t.append("g").attr("class","bar");return n.append("rect").attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("height",(function(t){return O-c(t)})).attr("width",a.bandwidth()).attr("stroke-width",1).attr("stroke","black").attr("fill",f[0]),n.append("text").text((function(t){return t})).join("text").attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("transform",i).attr("text-anchor","middle"),n}),(function(t){t.select("rect").transition().attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("height",(function(t){return O-c(t)})).attr("width",a.bandwidth()),t.select("text").transition().text((function(t){return t})).attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("transform",i)}),(function(t){t.select("text").remove(),t.select("rect").transition().style("opacity",0),t.transition().remove()}))}),[n,O,k]);return Object(e.useEffect)((function(){var t=o.k(r.current);t.attr("width",1e3).attr("height",300).append("g").attr("class","bars").attr("transform","translate(".concat(v,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(v,", ").concat(O,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(v,")"))}),[]),Object(e.useEffect)((function(){s()}),[n,s,r.current]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){n.sort((function(t,n){return o.a(t,n)})),s()},children:"asc"}),Object(j.jsx)("button",{onClick:function(){n.sort((function(t,n){return o.d(t,n)})),s()},children:"desc"})]}),Object(j.jsx)("div",{style:{padding:"10px 0"},children:Object(j.jsx)("svg",{ref:r})})]})},A=50,E=1e3-A-30,C=400-20-50;var R=function(t){var n=t.data,r=Object(e.useRef)(),a=o.i().range([0,E]),c=o.i().rangeRound([C,0]),i=o.j().domain(n.map((function(t){return t.type}))).range(f),s=Object(e.useCallback)((function(){var t=o.k(r.current);a.domain([0,o.g(n,(function(t){return t.x}))]),t.select(".x-axis").call(o.b(a)),c.domain([0,1.2*o.g(n,(function(t){return t.y}))]),t.select(".y-axis").transition().call(o.c(c)),t.selectAll(".scatter").selectAll("circle").data(n).join((function(t){return t.append("circle").attr("fill","red").attr("stroke","white").attr("cx",(function(t){return a(t.x)})).attr("cy",(function(t){return c(t.y)})).attr("r",(function(t){return t.r})).call((function(t){return t.transition().attr("fill",(function(t){return i(t.type)}))})).on("mouseover",(function(t){o.k(t.target).transition().style("opacity",.8).attr("r",25)})).on("mouseleave",(function(t){var n=t.target.__data__;o.k(t.target).transition().attr("fill",i(n.type)).attr("r",n.r)})),t}),(function(t){t.transition().delay((function(t,n){return 50*n})).duration(500).attr("fill","none").attr("stroke","blue").attr("cx",(function(t){return a(t.x)})).attr("cy",(function(t){return c(t.y)})).call((function(t){return t.transition().duration(500).attr("stroke","white").attr("fill",(function(t){return i(t.type)}))}))}),(function(t){return t.transition().duration(1e3).attr("fill","yellow").attr("stroke-width",4).attr("stroke","black").call((function(t){return t.style("opacity",0).remove()}))}))}),[n]);return Object(e.useEffect)((function(){var t=o.k(r.current);t.attr("width",1e3).attr("height",400).append("g").attr("class","scatter").attr("transform","translate(".concat(A,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(A,", ").concat(C,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(A,")"))}),[]),Object(e.useEffect)((function(){s()}),[n,s,r.current]),Object(j.jsx)("div",{style:{padding:"10px 0"},children:Object(j.jsx)("svg",{ref:r})})},D=r(4),P=50,_=1e3-P-30,M=400-20-50;var J=function(t){var n=t.data,r=Object(e.useRef)(),a=o.i().range([0,_]),c=o.i().rangeRound([M,0]),i=o.j().domain(l).range(f),s=Object(e.useCallback)((function(){var t=o.k(r.current);a.domain([0,o.g(n,(function(t){return o.g(t[1],(function(t){return t.x}))}))]),t.select(".x-axis").call(o.b(a)),c.domain(o.e(n.map((function(t){var n=Object(D.a)(t,2);n[0];return n[1]})).flat(),(function(t){return t.y}))),t.select(".y-axis").transition().call(o.c(c)),t.selectAll(".lines").selectAll(".line").data(n,(function(t){return t[0]})).join((function(t){return t.append("g").attr("class","line").append("path").attr("fill","none").attr("stroke-width",2).attr("stroke",(function(t){return i(t[0])})).attr("d",(function(t){return o.f().x((function(t){return a(t.x)})).y((function(t){return c(t.y)}))(t[1])}))}),(function(t){t.select("path").transition().attr("fill","none").attr("stroke-width",2).attr("stroke",(function(t){return i(t[0])})).attr("d",(function(t){return o.f().x((function(t){return a(t.x)})).y((function(t){return c(t.y)}))(t[1])}))}))}),[n,a,c]);return Object(e.useEffect)((function(){var t=o.k(r.current);t.attr("width",1e3).attr("height",400).append("g").attr("class","lines").attr("transform","translate(".concat(P,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(P,", ").concat(M,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(P,")"))}),[]),Object(e.useEffect)((function(){s()}),[n,s]),Object(j.jsx)("div",{style:{padding:"10px 0"},children:Object(j.jsx)("svg",{ref:r})})},N=function(t){var n=t.componentProp,r=t.getData,a=Object(e.useState)(r()),c=Object(D.a)(a,2),i=c[0],o=c[1],s=n;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){var t=r();o(t)},children:"Update Data"})}),Object(j.jsx)(s,{data:i})]})},S=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(N,{componentProp:J,getData:b}),Object(j.jsx)(N,{componentProp:R,getData:x}),Object(j.jsx)(N,{componentProp:m,getData:d}),Object(j.jsx)(N,{componentProp:w,getData:p})]})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.346e2f66.chunk.js.map