(this["webpackJsonpbar-chart-demo"]=this["webpackJsonpbar-chart-demo"]||[]).push([[0],{140:function(t,n,e){},143:function(t,n,e){"use strict";e.r(n);var r=e(1),a=e.n(r),c=e(31),i=e.n(c),u=(e(140),e(2)),o=e(0),s=20,l=50,f=1e3-l-30,d=600-s-50,p="translate(".concat(l,", ").concat(s,")");var h=function(t){var n=t.data,e=Object(r.useRef)(),a=n.map((function(t){return t.time})),c=Object.keys(n[0]).slice(1),i=u.h().keys(c)(n),h=u.f().domain(c).range(["pink","magenta","purple","green","lightblue"]),g=u.d().range([0,f]).padding([.2]),b=u.e().rangeRound([d-s,0]),j=function(t){t.selectAll("rect").data((function(t){return t})).join((function(t){return t.append("rect").attr("class","bar").attr("transform",p).attr("height",(function(t){return b(t[0])-b(t[1])})).attr("width",g.bandwidth()).attr("x",(function(t){return g(t.data.time)})).attr("y",(function(t){return b(t[1])})).style("opacity",0).call((function(t){return t.transition().duration(500).style("opacity",1)}))}),(function(t){t.transition().attr("height",(function(t){return b(t[0])-b(t[1])})).attr("width",g.bandwidth()).attr("x",(function(t){return g(t.data.time)})).attr("y",(function(t){return b(t[1])}))}))},x=Object(r.useCallback)((function(){var t=u.g(e.current);g.domain(a),t.select(".x-axis").call(u.a(g)).selectAll("text").text((function(t){return t.slice(11)})).attr("transform","translate(-13,26) rotate(-90)"),b.domain([0,1.2*u.c(n,(function(t){return u.i(Object.values(t))}))]),t.select(".y-axis").transition().call(u.b(b)),t.selectAll("g.stacks").selectAll("g.stack").data(i).join((function(t){var n=t.append("g").attr("class","stack");return n.append("g").attr("class","bars").attr("fill",(function(t){return h(t.key)})),j(n.select(".bars")),n}),(function(t){j(t.select(".bars"))}))}),[n]);return Object(r.useEffect)((function(){x()}),[n,x]),Object(r.useEffect)((function(){!function(){var t=u.g(e.current);t.attr("width",1e3).attr("height",600).append("g").attr("class","stacks"),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(l,", ").concat(d,")")),t.append("g").attr("class","y-axis").attr("transform",p)}(),x()}),[]),Object(o.jsx)("div",{style:{padding:"10px 0"},children:Object(o.jsx)("svg",{ref:e})})};var g=function(t){var n=t.data,e=Object(r.useRef)(),a=Math.max(Math.max.apply(null,n),200),c=30*n.length+100,i=Object(r.useCallback)((function(){var t=u.g(e.current),r=u.d().domain(Object.keys(n)).range([0,c]).padding(.3),i=u.e().domain([0,a]).range([a,0]);t.selectAll("g").data(n).join((function(t){var n=t.append("g");return n.append("rect").attr("x",(function(t,n){return r(n)})).attr("y",(function(t){return i(t)})).attr("height",(function(t){return t})).attr("width",30).attr("stroke-width",1).attr("stroke","plum").attr("fill","pink"),n.append("text").text((function(t){return t})).join("text").attr("x",(function(t,n){return r(n)})).attr("y",(function(t){return i(t)})).attr("width",30).attr("dominant-baseline","hanging"),n}),(function(t){t.select("rect").transition().attr("y",(function(t){return i(t)})).attr("height",(function(t){return t})),t.select("text").transition().text((function(t){return t})).attr("y",(function(t){return i(t)}))}))}),[n,a,c]);return Object(r.useEffect)((function(){u.g(e.current).attr("width",c).attr("height",a)}),[]),Object(r.useEffect)((function(){return i(),function(){}}),[n,i]),Object(o.jsx)("svg",{ref:e})};function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(Math.random()*(t-n)+n)}var j=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=[],e=b(25,10),r=0;r<e;r++)n.push({time:"2021-05-05 10:00:0".concat(r),cat:b(t),dog:b(t),fish:b(t),cow:b(t),mouse:b(t)});return n},x=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=[],e=0;e<t;e++)n.push(b(100,1));return n},m=e(8),v=function(t){var n=t.componentProp,e=t.getData,a=Object(r.useState)(e()),c=Object(m.a)(a,2),i=c[0],u=c[1],s=n;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:function(){return u(e())},children:"Update Data"})}),Object(o.jsx)(s,{data:i})]})},O=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(v,{componentProp:h,getData:j}),Object(o.jsx)(v,{componentProp:g,getData:x})]})};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.dcdb0295.chunk.js.map