(this["webpackJsonpbar-chart-demo"]=this["webpackJsonpbar-chart-demo"]||[]).push([[0],{140:function(t,n,r){},143:function(t,n,r){"use strict";r.r(n);var e=r(2),a=r.n(e),c=r(31),i=r.n(c),o=(r(140),r(1)),s=r(0),u=50,l=1e3-u-30,f=400-20-50;var d=function(t){var n=t.data,r=Object(e.useRef)(),a=n.map((function(t){return t.time})),c=Object.keys(n[0]).slice(1),i=o.h().keys(c)(n),d=o.f().domain(c).range(["pink","magenta","purple","green","lightblue"]),p=o.d().range([0,l]).padding([.2]),b=o.e().rangeRound([f,0]),h=function(t){t.selectAll("rect").data((function(t){return t})).join((function(t){return t.append("rect").attr("class","bar").attr("height",(function(t){return b(t[0])-b(t[1])})).attr("width",p.bandwidth()).attr("x",(function(t){return p(t.data.time)})).attr("y",(function(t){return b(t[1])})).style("opacity",0).call((function(t){return t.transition().duration(500).style("opacity",1)}))}),(function(t){t.transition().attr("height",(function(t){return b(t[0])-b(t[1])})).attr("width",p.bandwidth()).attr("x",(function(t){return p(t.data.time)})).attr("y",(function(t){return b(t[1])}))}))},g=Object(e.useCallback)((function(){var t=o.g(r.current);p.domain(a),t.select(".x-axis").call(o.a(p)).selectAll("text").text((function(t){return t.slice(11)})).attr("transform","translate(-13,26) rotate(-90)"),b.domain([0,1.2*o.c(n,(function(t){return o.i(Object.values(t))}))]),t.select(".y-axis").transition().call(o.b(b)),t.selectAll("g.stacks").selectAll("g.stack").data(i).join((function(t){var n=t.append("g").attr("class","stack");return n.append("g").attr("class","bars").attr("fill",(function(t){return d(t.key)})),h(n.select(".bars")),n}),(function(t){h(t.select(".bars"))}))}),[n]);return Object(e.useEffect)((function(){g()}),[n,g]),Object(e.useEffect)((function(){!function(){var t=o.g(r.current);t.attr("width",1e3).attr("height",400).append("g").attr("class","stacks").attr("transform","translate(".concat(u,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(u,", ").concat(f,")")),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(u,")"))}(),g()}),[]),Object(s.jsx)("div",{style:{padding:"10px 0"},children:Object(s.jsx)("svg",{ref:r})})},p=50,b=1e3-p-30,h=300-20-50;var g=function(t){var n=t.data,r=Object(e.useRef)(),a=o.d().domain(Object.keys(n)).range([0,b]).padding(.3),c=o.e().range([h,0]).domain([0,1.1*o.c(n)]),i=function(t){return"translate(".concat(15,t>10?", 15)":", -2)")},u=Object(e.useCallback)((function(){o.g(r.current).selectAll(".bars").selectAll(".bar").data(n).join((function(t){var n=t.append("g").attr("class","bar");return n.append("rect").attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("height",(function(t){return h-c(t)})).attr("width",30).attr("stroke-width",1).attr("stroke","black").attr("fill","pink"),n.append("text").text((function(t){return t})).join("text").attr("x",(function(t,n){return a(n)})).attr("y",(function(t){return c(t)})).attr("transform",i).attr("text-anchor","middle"),n}),(function(t){t.select("rect").transition().attr("y",(function(t){return c(t)})).attr("height",(function(t){return h-c(t)})),t.select("text").transition().text((function(t){return t})).attr("y",(function(t){return c(t)})).attr("transform",i)}))}),[n,h,b]);return Object(e.useEffect)((function(){!function(){var t=o.g(r.current);t.attr("width",1e3).attr("height",300).append("g").attr("class","bars").attr("transform","translate(".concat(p,")")),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(p,", ").concat(h,")")).call(o.a(a)).selectAll("text").text((function(t){return t}))}(),u()}),[]),Object(e.useEffect)((function(){u()}),[n,u]),Object(s.jsx)("svg",{ref:r})};function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(Math.random()*(t-n)+n)}var x=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=[],r=j(25,10),e=0;e<r;e++)n.push({time:"2021-05-05 10:00:0".concat(e),cat:j(t),dog:j(t),fish:j(t),cow:j(t),mouse:j(t)});return n},m=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=[],r=0;r<t;r++)n.push(j(100,1));return n},v=r(8),O=function(t){var n=t.componentProp,r=t.getData,a=Object(e.useState)(r()),c=Object(v.a)(a,2),i=c[0],o=c[1],u=n;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){return o(r())},children:"Update Data"})}),Object(s.jsx)(u,{data:i})]})},k=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(O,{componentProp:d,getData:x}),Object(s.jsx)(O,{componentProp:g,getData:m})]})};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.a7be8322.chunk.js.map