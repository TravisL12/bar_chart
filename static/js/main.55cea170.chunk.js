(this["webpackJsonpbar-chart-demo"]=this["webpackJsonpbar-chart-demo"]||[]).push([[0],{140:function(t,n,e){},143:function(t,n,e){"use strict";e.r(n);var r=e(1),a=e.n(r),c=e(31),i=e.n(c),o=(e(140),e(2)),u=e(0),s=20,f=50,l=800-f-30,d=400-s-50;var p=function(t){var n=t.data,e=Object(r.useRef)(),a=n.map((function(t){return t.time})),c=Object.keys(n[0]).slice(1),i=o.h().keys(c)(n),p=o.f().domain(c).range(["pink","magenta","purple"]),h=o.d().range([0,l]).domain(a).padding([.2]),g=o.e().rangeRound([d-s,0]),j=function(t){t.selectAll("rect").data((function(t){return t}),(function(t){return t.data.time})).join((function(t){return t.append("rect").attr("class","bar").attr("x",(function(t){return h(t.data.time)})).attr("transform","translate(".concat(f,", ").concat(s,")")).attr("y",(function(t){return g(t[1])})).attr("height",(function(t){return g(t[0])-g(t[1])})).attr("width",h.bandwidth())}),(function(t){t.transition().attr("y",(function(t){return g(t[1])})).attr("height",(function(t){return g(t[0])-g(t[1])}))}))},b=Object(r.useCallback)((function(){var t=o.g(e.current);g.domain([0,1.2*o.c(n,(function(t){return o.i(Object.values(t))}))]),t.select(".y-axis").transition().call(o.b(g)),t.selectAll("g.stacks").selectAll("g.stack").data(i).join((function(t){var n=t.append("g").attr("class","stack");return n.append("g").attr("class","bars").attr("fill",(function(t){return p(t.key)})),j(n.select(".bars")),n}),(function(t){j(t.select(".bars"))}))}),[n]);return Object(r.useEffect)((function(){b()}),[n,b]),Object(r.useEffect)((function(){!function(){var t=o.g(e.current);t.attr("width",800).attr("height",400).append("g").attr("class","stacks"),t.append("g").attr("class","x-axis").attr("transform","translate(".concat(f,", ").concat(d,")")).call(o.a(h)).selectAll("text").text((function(t){return t.slice(11)})).attr("transform","translate(-13,26) rotate(-90)"),t.append("g").attr("class","y-axis").attr("transform","translate(".concat(f,", ").concat(s,")"))}(),b()}),[]),Object(u.jsx)("div",{style:{padding:"10px 0"},children:Object(u.jsx)("svg",{ref:e})})};var h=function(t){var n=t.data,e=Object(r.useRef)(),a=Math.max(Math.max.apply(null,n),200),c=30*n.length+100,i=Object(r.useCallback)((function(){var t=o.g(e.current),r=o.d().domain(Object.keys(n)).range([0,c]).padding(.3),i=o.e().domain([0,a]).range([a,0]);t.selectAll("g").data(n).join((function(t){var n=t.append("g");return n.append("rect").attr("x",(function(t,n){return r(n)})).attr("y",(function(t){return i(t)})).attr("height",(function(t){return t})).attr("width",30).attr("stroke-width",1).attr("stroke","plum").attr("fill","pink"),n.append("text").text((function(t){return t})).join("text").attr("x",(function(t,n){return r(n)})).attr("y",(function(t){return i(t)})).attr("width",30).attr("dominant-baseline","hanging"),n}),(function(t){t.select("rect").transition().attr("y",(function(t){return i(t)})).attr("height",(function(t){return t})),t.select("text").transition().text((function(t){return t})).attr("y",(function(t){return i(t)}))}))}),[n,a,c]);return Object(r.useEffect)((function(){o.g(e.current).attr("width",c).attr("height",a)}),[]),Object(r.useEffect)((function(){return i(),function(){}}),[n,i]),Object(u.jsx)("svg",{ref:e})};function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(Math.random()*(t-n)+n)}var j=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,e=[],r=0;r<n;r++)e.push({time:"2021-05-05 10:00:0".concat(r),cat:g(t),dog:g(t),fish:g(t)});return e},b=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=[],e=0;e<t;e++)n.push(g(100,1));return n},x=e(8),m=function(t){var n=t.componentProp,e=t.getData,a=Object(r.useState)(e()),c=Object(x.a)(a,2),i=c[0],o=c[1],s=n;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){return o(e())},children:"Update Data"})}),Object(u.jsx)(s,{data:i})]})},v=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{componentProp:p,getData:j}),Object(u.jsx)(m,{componentProp:h,getData:b})]})};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.55cea170.chunk.js.map